<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <title>рд╣рд┐рдВрджреА рдЯрд╛рдЗрдкрд┐рдВрдЧ рдЯреЗрд╕реНрдЯ</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f3f4f6;
      padding: 30px;
      margin: 0;
    }
    #setup {
      max-width: 600px;
      margin: auto;
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    input, select, button, textarea {
      font-size: 16px;
      padding: 12px;
      width: 100%;
      margin-top: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }
    button {
      background-color: #3b82f6;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background-color: #2563eb;
    }
    h2 {
      text-align: center;
      color: #3b82f6;
    }
    #testArea, #result {
      max-width: 700px;
      margin: 30px auto;
      padding: 20px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    #displayText {
      margin: 20px 0;
      line-height: 1.6;
      height: 180px;
      overflow-y: auto;
      padding: 10px;
      border: 1px solid #ccc;
      font-size: 16px;
    }
    #displayText span.correct { color: green; }
    #displayText span.incorrect { color: red; text-decoration: underline; }
    #topBar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    #timer {
      font-weight: bold;
      color: #d9534f;
      font-size: 18px;
    }
  </style>
</head>
<body>
  <h2>ЁЯУЭ рд╣рд┐рдВрджреА рдЯрд╛рдЗрдкрд┐рдВрдЧ рдЯреЗрд╕реНрдЯ</h2>

  <div id="setup">
    <label>ЁЯСд рдЕрдкрдирд╛ рдирд╛рдо рджрд░реНрдЬ рдХрд░реЗрдВ:</label>
    <input type="text" id="userName" placeholder="рдЖрдкрдХрд╛ рдирд╛рдо">
    <div id="nameError" style="color: red; font-size: 14px;"></div>

    <label>ЁЯУД рдЯреЗрд╕реНрдЯ рдЕрдиреБрдЪреНрдЫреЗрдж рдЪреБрдиреЗрдВ:</label>
    <select id="paragraphSelect">
      <option value="">-- рдЕрдиреБрдЪреНрдЫреЗрдж рдЪреБрдиреЗрдВ --</option>
      <option value="0">28 рдЬрдирд╡рд░реА 2024 - Shift 01</option>
      <option value="1">01 рдЕрдХреНрдЯреВрдмрд░ 2023 - Shift 01</option>
    </select>
    <div id="paraError" style="color: red; font-size: 14px;"></div>

    <label>тП▒ рдкрд░реАрдХреНрд╖рдг рдЕрд╡рдзрд┐ рдЪреБрдиреЗрдВ:</label>
    <select id="timeSelect">
      <option value="">-- рдЕрд╡рдзрд┐ рдЪреБрдиреЗрдВ --</option>
      <option value="1">тП▒ 01 рдорд┐рдирдЯ</option>
      <option value="2">тП▒ 02 рдорд┐рдирдЯ</option>
      <option value="15">ЁЯХТ рдлреБрд▓ 15 рдорд┐рдирдЯ</option>
    </select>
    <div id="timeError" style="color: red; font-size: 14px;"></div>

    <button onclick="startTest()">тЦ╢ рдЯреЗрд╕реНрдЯ рд╢реБрд░реВ рдХрд░реЗрдВ</button>
  </div>

  <div id="testArea" style="display:none;">
    <div id="topBar">
      <div><strong>рдЪрдпрдирд┐рдд рд╕рдордп:</strong> <span id="selectedTime"></span> рдорд┐рдирдЯ</div>
      <div id="timer">рд╢реЗрд╖ рд╕рдордп: 00:00</div>
    </div>

    <div id="displayText"></div>
    <textarea id="inputField" rows="6" placeholder="рдпрд╣рд╛рдБ рдЯрд╛рдЗрдк рдХрд░реЗрдВ..."></textarea>
    <button onclick="endTest()">ЁЯУЭ рд╕рдмрдорд┐рдЯ рдХрд░реЗрдВ</button>
  </div>

  <div id="result"></div>

  <script>
    const passages = [
      {
        title: "28 рдЬрдирд╡рд░реА 2024 - Shift 01",
        short: "рдкрд╛рд▓рддреВ рдЬрд╛рдирд╡рд░ рд╣рдорд╛рд░реЗ рдЬреАрд╡рди рдХрд╛ рдЕрд╣рдо рд╣рд┐рд╕реНрд╕рд╛ рдмрди рд╕рдХрддреЗ рд╣реИрдВред рдореЗрд░реЗ рдкрд╛рд╕ рдмреНрд░реВрдиреЛ рдирд╛рдо рдХрд╛ рдПрдХ рдмреЙрдХрд╕рд░ рдХреБрддреНрддрд╛ рд╣реИ рдЬреЛ рдмрд╣реБрдд рдЪрдВрдЪрд▓, рд╡рдлрд╛рджрд╛рд░ рдФрд░ рд╣рдорд╛рд░реЗ рдкрд░рд┐рд╡рд╛рд░ рдХрд╛ рдЕрднрд┐рдиреНрди рд╣рд┐рд╕реНрд╕рд╛ рд╣реИред",
        medium: "рдмреНрд░реВрдиреЛ рдПрдХ рдХрд╛рд▓реЗ рд░рдВрдЧ рдХрд╛ рдмреЙрдХрд╕рд░ рд╣реИ рдЬреЛ рд╣рдорд╛рд░реЗ рдкрд░рд┐рд╡рд╛рд░ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рджрд╕ рд╕рд╛рд▓ рд╕реЗ рд╣реИред рд╡рд╣ рдмрд╣реБрдд рд╕рдордЭрджрд╛рд░ рдФрд░ рд╕рддрд░реНрдХ рд╣реИред рдЬрдм рд╣рдо рдШрд░ рдкрд░ рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВ, рддреЛ рд╡рд╣ рдкреВрд░реЗ рдШрд░ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХрд░рддрд╛ рд╣реИред рдЙрд╕реЗ рджреВрдз, рдЕрдВрдбреЗ рдФрд░ рдЪрдкрд╛рддреА рдмрд╣реБрдд рдкрд╕рдВрдж рд╣реИрдВ рдФрд░ рд╡рд╣ рд╣рдорд╛рд░реЗ рд╕рд╛рде рд╕реИрд░ рдкрд░ рдЬрд╛рдирд╛ рдкрд╕рдВрдж рдХрд░рддрд╛ рд╣реИред рдмреНрд░реВрдиреЛ рдХреНрд░рд┐рдХреЗрдЯ рдЦреЗрд▓рддреЗ рд╕рдордп рд╣рдорд╛рд░рд╛ рд╕рд╛рдереА рднреА рдмрдирддрд╛ рд╣реИ рдФрд░ рдЫреЛрдЯреЗ рднрд╛рдИ рдХреА рд╡рд┐рд╢реЗрд╖ рд╕реБрд░рдХреНрд╖рд╛ рдХрд░рддрд╛ рд╣реИред",
        full: "рдкрд╛рд▓рддреВ рдЬрд╛рдирд╡рд░ рдЖрдкрдХреЗ рдЬреАрд╡рди рдХрд╛ рдПрдХ рдЕрд╣рдо рдЕрдВрдЧ рдмрди рд╕рдХрддреЗ рд╣реИрдВред рдореЗрд░реЗ рдкрд╛рд╕ рдкрд╛рд▓рддреВ рдЬрд╛рдирд╡рд░ рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ рдХрд╛рд▓реЗ рд░рдВрдЧ рдХрд╛ рдмреЙрдХрд╕рд░ рд╣реИред рд╣рдо рдЗрд╕реЗ рдмреНрд░реВрдиреЛ рдмреБрд▓рд╛рддреЗ рд╣реИрдВред рдпрд╣ рджрд╕ рд╕рд╛рд▓ рдХрд╛ рд╣реИ рдФрд░ рдореЗрд░реЗ рдкреИрджрд╛ рд╣реЛрдиреЗ рдХреЗ рдкрд╣рд▓реЗ рд╕реЗ рдпрд╣ рдореЗрд░реЗ рдкрд░рд┐рд╡рд╛рд░ рдХрд╛ рдЕрдВрдЧ рд╣реИред рдореИрдВ рдЗрд╕рдХреЗ рд╕рд╛рде рдмрдбрд╛ рд╣реБрдЖ рд╣реВрдВ рдФрд░ рдЗрд╕рд╕реЗ рдмрд╣реБрдд рдкреНрд░реЗрдо рдХрд░рддрд╛ рд╣реВрдВред рдЬрдм рднреА рдореЗрдВ рдХрд╣реАрдВ рдмрд╛рд╣рд░ рдЬрд╛рддрд╛ рд╣реВрдВ рддрдм рдпрд╣ рдореЗрд░реА рд╡рд╛рдкрд╕реА рдХреЗ рд▓рд┐рдП рдмреЗрд╕рдмреНрд░реА рд╕реЗ рдЗрдВрддрдЬрд╛рд░ рдХрд░рддрд╛ рд╣реИред рдмреНрд░реВрдиреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╡рд┐рдХрд╕рд┐рдд рдирд░ рдмреЙрдХрд╕рд░ рд╣реИ рдЬрд┐рд╕рдХреА рд▓рдВрдмрд╛рдИ рд▓рдЧрднрдЧ рдмрд╛рдИрд╕ рдЗрдВрдЪ рд╣реИред рджреВрд╕рд░реЗ рдмреЙрдХрд╕рд░ рдХреА рддрд░рд╣ рдЙрд╕рдХреЗ рдкрд╛рд╕ рднреА рдПрдХ рджрдмрд╛ рд╣реБрдЖ рдЪреЗрд╣рд░рд╛ рд╡ рдЪрдкрдЯреЗ рдЖрдХрд╛рд░ рдХреЗ рдХрд╛рди рдФрд░ рдирд╢реАрд▓реА рдЖрдВрдЦреЗрдВ рд╣реИрдВред рдЗрд╕рдХреЗ рдкрд╛рд╕ рдордЬрдмреВрдд рдФрд░ рдЪреМрдбреА рдкреАрда рдХреЗ рд╕рд╛рде рдПрдХ рдлреИрд▓реА рдЫрд╛рддреА рд╣реИред рдЗрд╕рдХреЗ рдЫреЛрдЯреЗ рдкреИрд░ рдФрд░ рдзрдиреБрд╖рд╛рдХрд╛рд░ рдЙрдВрдЧрд▓рд┐рдпрд╛рдВ рд╣реИрдВред рдЗрд╕рдХреЗ рдЫреЛрдЯреЗ рдЪрдордХрджрд╛рд░ рдХрд╛рд▓реЗ рдмрд╛рд▓ рд╣реИрдВред рдЦреВрдмрд╕реВрд░рдд рдмрд╛рд▓реЛрдВ рдХреЗ рд╕рд╛рде рдмреНрд░реВрдиреЛ рдХреА рд╕рдлрд╛рдИ рдХреЛ рдмрдирд╛рдП рд░рдЦрдирд╛ рдХрд╛рдлреА рдХрдард┐рди рд╣реЛ рд╕рдХрддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐ рдмреНрд░реВрдиреЛ рдмрд╣реБрдд рдЙрд░реНрдЬрд╛рд╡рд╛рди рд╣реИ рдФрд░ рдЗрд╕реЗ рдЪрд╛рд░реЛрдВ рдУрд░ рдШреВрдордирд╛ рдмрд╣реБрдд рдмрдврд╝рд┐рдпрд╛ рд▓рдЧрддрд╛ рд╣реИ рдЦрд╛рд╕рдХрд░ рдЬрдм рдореЗрдВ рдЖрд╕рдкрд╛рд╕ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реВрдБред рдпрд╣ рдмрд╛рд▓рдХрдиреА рдореЗрдВ рдмреИрдардХрд░ рд▓реЛрдЧреЛрдВ рдХреЛ рдЖрддрд╛ рдЬрд╛рддрд╛ рджреЗрдЦрдХрд░ рдЦреБрд╢ рд╣реЛрддрд╛ рд╣реИред рдпрд╣ рдЕрдзрд┐рдХрддрд░ рд╕рдордп рд╢рд╛рдВрдд рд╣реЛрддрд╛ рд╣реИ рд▓реЗрдХрд┐рди рдХрд┐рд╕реА рдореЗрд╣рдорд╛рди рдХреЗ рдШрд░ рдЖрдиреЗ рдкрд░ рдХрд╛рдлреА рдЙрдордВрдЧ рдореЗрдВ рдЖ рдЬрд╛рддрд╛ рд╣реИред рдпрд╣ рджрд░рд╡рд╛рдЬреЗ рдХреА рдШрдВрдЯреА рд╕реБрдирдХрд░ рд╣рд░ рдмрд╛рд░ рджрд░рд╡рд╛рдЬреЗ рдХреА рдУрд░ рднрд╛рдЧ рдХрд░ рдЬрд╛рддрд╛ рд╣реИред рд╣рд╛рд▓рд╛рдВрдХрд┐ рдпрд╣ рдмрд╣реБрдд рдЙрдЫрд▓рдХреВрдж рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ рдкрд░ рдпрд╣ рд╣рдорд╛рд░реЗ рдШрд░ рдХреА рдирд┐рдЧрд░рд╛рдиреА рдФрд░ рд╕реБрд░рдХреНрд╖рд╛ рдХрд╛ рдкреВрд░рд╛ рдЦрдпрд╛рд▓ рд░рдЦрддрд╛ рд╣реИред рдЬрдм рднреА рдШрд░ рдореЗрдВ рдХреЛрдИ рдЕрдЬрдирдмреА рдкреНрд░рд╡реЗрд╢ рдХрд░рддрд╛ рд╣реИ рддреЛ рдпрд╣ рдЙрд╕ рдЖрджрдореА рдореЗрдВ рд╕реЗ рдЖрдиреЗ рд╡рд╛рд▓реА рдЦреБрд╢рдмреВ рдХреЛ рдмреЗрд╣рддрд░ рддрд░рд╣ рд╕реЗ рд╕реВрдВрдШрддрд╛ рд╣реИред рдпрд╣ рд╣рдорд╛рд░реЗ рд╕рд╛рде рд╣реА рдЦрд╛рддрд╛ рд╣реИред рд╣рдо рдмрд╣реБрдд рдмрд╛рд░ рдЗрд╕реЗ рд╣рдорд╛рд░реА рдерд╛рд▓реА рд╕реЗ рдмреНрд░реЗрдб рдФрд░ рдЪрдкрд╛рддреА рджреЗрддреЗ рд╣реИрдВред рдзреАрд░реЗ рдзреАрд░реЗ рд╣рдордиреЗ рджреЗрдЦрд╛ рдХрд┐ рдпрд╣ рдЗрди рдЪреАрдЬреЛрдВ рдХреЛ рд╕рд╣реА рддрд░рд╣ рд╕реЗ рдкрдЪрд╛рдиреЗ рд▓рдЧрд╛ рд╣реИ рддреЛ рд╣рдордиреЗ рдЗрд╕рдХреЗ рдЖрд╣рд╛рд░ рдХреЛ рдмрджрд▓ рджрд┐рдпрд╛ред рдЕрдм рдмреНрд░реВрдиреЛ рджреВрдз рдпрд╛ рджрд╣реА рдореЗрдВ рдбреВрдмреА рд╣реБрдИ рдЪрдкрд╛рддреА рдЦрд╛рддрд╛ рд╣реИред рдЗрд╕реЗ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЙрдмрд▓реЗ рд╣реБрдП рдЕрдВрдбреЛрдВ рдХрд╛ рд╢реМрдХ рд╣реИред рд╣рдо рдЗрд╕реЗ рд░реЛрдЬрд╛рдирд╛ рдПрдХ рдпрд╛ рджреЛ рдмрд╛рд░ рдЕрдВрдбреЗ рдЬрд░реВрд░ рдЦрд┐рд▓рд╛рддреЗ рд╣реИрдВред рдмреНрд░реВрдиреЛ рдЕрдкрдиреЗ рднреЛрдЬрди рдХреЛ рдлреБрд░реНрддреА рд╕реЗ рдЦрд╛ рд▓реЗрддрд╛ рд╣реИ рдФрд░ рдлрд┐рд░ рд╕реЗ рджреЛрдмрд╛рд░рд╛ рднреЛрдЬрди рдХреА рдорд╛рдВрдЧ рдХрд░рддрд╛ рд╣реИред рдЬрдм рд╣рдо рдШрд░ рдкрд░ рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВ рддреЛ рдмреНрд░реВрдиреЛ рд╣рдорд╛рд░реЗ рдШрд░ рдХреА рд░рдХреНрд╖рд╛ рдХрд░рддрд╛ рд╣реИред рдпрд╣ рд╣рд░ рд╕рдордп рд╕рддрд░реНрдХ рд░рд╣рддрд╛ рд╣реИ рдФрд░ рдЬрдм рд╣рдо рдШрд░ рд╣реЛрддреЗ рд╣реИрдВ рддреЛ рд╣рдореЗрдВ рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЪрд┐рдВрддрд╛ рдХрд░рдиреЗ рдХреА рдЬрд░реВрд░рдд рдирд╣реАрдВ рд╣реЛрддреА рд╣реИред рдЗрд╕реЗ рд╣рд░ рд░рд╡рд┐рд╡рд╛рд░ рдХреЛ рдШреВрдордирд╛ рдФрд░ рд╣рдорд╛рд░реЗ рд╕рд╛рде рд╕реИрд░ рдХрд░рдирд╛ рднреА рдмрд╣реБрдд рдкрд╕рдВрдж рд╣реИред рдШреВрдордиреЗ рдЬрд╛рддреЗ рд╕рдордп рдпрд╣ рд╕рд╣реА рддрд░рд╣ рд╕реЗ рдмрд░реНрддрд╛рд╡ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдХрд╛рд░ рдореЗрдВ рдЪреБрдкрдЪрд╛рдк рдмреИрда рдЬрд╛рддрд╛ рд╣реИред рдпрд╣ рдХрд╛рдлреА рддрд╛рдХрддрд╡рд░ рдФрд░ рд▓рдВрдмрд╛ рд╣реИ рд╕рд╛рде рд╣реА рдХрд╛рдлреА рдЪрдВрдЪрд▓ рднреА рд╣реИред рдпрд╣ рд╣рдорд╛рд░реЗ рд╕рд╛рде рдХрдИ рдмрд╛рд╣рд░реА рдЧрддрд┐рд╡рд┐рдзрд┐рдпреЛрдВ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдирд╛ рдкрд╕рдВрдж рдХрд░рддрд╛ рд╣реИред рдЬрдм рд╣рдо рдХреНрд░рд┐рдХреЗрдЯ рдЦреЗрд▓рддреЗ рд╣реИрдВ рддреЛ рдмреНрд░реВрдиреЛ рдмрдбрд╝реЗ рдмрдврд╝рд┐рдпрд╛ рдХреНрд╖реЗрддреНрд░рд░рдХреНрд╖рдХ рдХреЗ рд░реВрдк рдореЗрдВ рднреА рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИред рдЬрдм рднреА рд╣рдо рдЦреЗрд▓рддреЗ рд╣реИрдВ рддреЛ рдореЗрдВ рд╣рдореЗрд╢рд╛ рдЗрд╕реЗ рдЕрдкрдиреА рдЯреАрдо рдореЗрдВ рд▓реЗрддрд╛ рд╣реВрдВред рдЬрдм рд╣рдо рдмрд╛рд╣рд░ рдЦреЗрд▓рддреЗ рд╣реИрдВ рддреЛ рдпрд╣ рдЕрдЬрдирдмрд┐рдпреЛрдВ рд╕реЗ рднреА рд╣рдорд╛рд░реА рд░рдХреНрд╖рд╛ рдХрд░рддрд╛ рд╣реИред рдпрд╣ рдореЗрд░реЗ рддреАрди рд╕рд╛рд▓ рдХреЗ рднрд╛рдИ рдХреА рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рд╕реБрд░рдХреНрд╖рд╛ рдХрд░рддрд╛ рд╣реИред рдмреНрд░реВрдиреЛ рдореЗрд░реЗ рдЬреАрд╡рди рдХрд╛ рдПрдХ рдЬрд░реБрд░реА рдЕрдВрд╢ рдмрди рдЧрдпрд╛ рд╣реИред рдореИрдВ рдмреНрд░реВрдиреЛ рд╕реЗ рдЙрддрдирд╛ рд╣реА рдЬреБрдбрд╛ рд╣реБрдЖ рд╣реВрдВ рдЬрд┐рддрдирд╛ рдореЗрдВ рдЕрдкрдиреЗ рд╕рднреА рднрд╛рдЗрдпреЛрдВ рдФрд░ рдорд╛рддрд╛ рдкрд┐рддрд╛ рд╕реЗ рдЬреБрдбрд╛ рд╣реВрдВред рд╣рдо рд╕рднреА рдмреНрд░реВрдиреЛрдВ рдХреЛ рдмрд╣реБрдд рдкреНрд░реЗрдо рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдпрд╣ рднреА рд╣рдореЗрдВ рдЙрддрдирд╛ рд╣реА рдкреНрд░реЗрдо рдХрд░рддрд╛ рд╣реИред"
      },
      {
        title: "01 рдЕрдХреНрдЯреВрдмрд░ 2023 - Shift 01",
        short: "рд╕рд░реНрдХрд╕ рдПрдХ рдРрд╕реА рдЬрдЧрд╣ рд╣реЛрддреА рд╣реИ рдЬрд╣рд╛рдВ рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рдЬрд╛рдирд╡рд░ рдФрд░ рдЬреЛрдХрд░ рдорд┐рд▓рдХрд░ рджрд░реНрд╢рдХреЛрдВ рдХрд╛ рдордиреЛрд░рдВрдЬрди рдХрд░рддреЗ рд╣реИрдВред рдЬреЛрдХрд░реЛрдВ рдХреА рд╣рд░рдХрддреЗрдВ рдФрд░ рд╣рд╛рдерд┐рдпреЛрдВ рдХреЗ рдХрд░рддрдм рд▓реЛрдЧреЛрдВ рдХреЛ рдЦреВрдм рд╣рдВрд╕рд╛рддреЗ рдФрд░ рд░реЛрдорд╛рдВрдЪрд┐рдд рдХрд░рддреЗ рд╣реИрдВред",
        medium: "рдкрд┐рдЫрд▓реЗ рд╕рд╛рд▓ рджрд┐рд╡рд╛рд▓реА рдкрд░ рдЬрдВрдмреЛ рд╕рд░реНрдХрд╕ рд╣рдорд╛рд░реЗ рд╢рд╣рд░ рдореЗрдВ рдЖрдпрд╛ рдерд╛ред рд╣рдо рджреЛрд╕реНрддреЛрдВ рдиреЗ рдорд┐рд▓рдХрд░ рд╕рд░реНрдХрд╕ рджреЗрдЦрд╛ред рд╡рд╣рд╛рдВ рд╢реЗрд░реЛрдВ рдХреА рдЧрд░реНрдЬрдирд╛, рдЬреЛрдХрд░реЛрдВ рдХреА рд╣рд░рдХрддреЗрдВ рдФрд░ рдШреЛрдбрд╝реЛрдВ рдХреЗ рдХрд░рддрдм рдмрд╣реБрдд рд╣реА рдордиреЛрд░рдВрдЬрдХ рдереЗред рдПрдХ рд▓рдбрд╝рдХреА рдиреЗ рдЫрд╛рддреЗ рдХреЗ рд╕рд╛рде рддрд╛рд░ рдкрд░ рдирд╛рдЪ рджрд┐рдЦрд╛рдпрд╛, рдЬреЛ рдмрд╣реБрдд рд░реЛрдорд╛рдВрдЪрдХ рдерд╛ред рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рд╣рд╛рдерд┐рдпреЛрдВ рдФрд░ рдмрд╛рдШреЛрдВ рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдиреЗ рд╕рднреА рдХрд╛ рдорди рдореЛрд╣ рд▓рд┐рдпрд╛ред рджрд░реНрд╢рдХреЛрдВ рдиреЗ рддрд╛рд▓рд┐рдпреЛрдВ рдХреА рдЧрдбрд╝рдЧрдбрд╝рд╛рд╣рдЯ рдХреЗ рд╕рд╛рде рдХрд▓рд╛рдХрд╛рд░реЛрдВ рдХрд╛ рдЙрддреНрд╕рд╛рд╣рд╡рд░реНрдзрди рдХрд┐рдпрд╛ред",
        full: "рд╕рд░реНрдХрд╕ рдПрдХ рдРрд╕реА рдЬрдЧрд╣ рд╣реЛрддреА рд╣реИ рдЬрд╣рд╛рдВ рдЬрдВрдЧрд▓реА рдЬрд╛рдирд╡рд░ рдФрд░ рдШрд░реЗрд▓реВ рдЬрд╛рдирд╡рд░ рдЕрдкрдиреЗ рдкреНрд░рд╢рд┐рдХреНрд╖рдХреЛрдВ рдХреА рдХрдорд╛рди рдореЗрдВ рдХрд░рддрдм рджрд┐рдЦрд╛рддреЗ рд╣реИрдВред рдПрдерд▓реАрдЯ рдФрд░ рдЬреЛрдХрд░ рд╕рд░реНрдХрд╕ рдореЗрдВ рдХрдИ рд╢рд╛рдирджрд╛рд░ рдХрд░рддрдм рдХрд░рддреЗ рд╣реИрдВред рдкрд┐рдЫрд▓реЗ рд╕рд╛рд▓ рджрд┐рд╡рд╛рд▓реА рдХреЗ рдЕрд╡рдХрд╛рд╢ рдХреЗ рджреМрд░рд╛рди рдЬрдВрдмреЛ рд╕рд░реНрдХрд╕ рд╣рдорд╛рд░реЗ рд╢рд╣рд░ рдореЗрдВ рдЖрдпрд╛ рдерд╛ред рдореИрдВрдиреЗ рдЕрдкрдиреЗ рдорд┐рддреНрд░реЛрдВ рдХреЗ рд╕рд╛рде рдЙрд╕ рд╕рд░реНрдХрд╕ рдХрд╛ рджреМрд░рд╛ рдХрд┐рдпрд╛ред рджрд╛рдореЛрджрд░ рдЧрдВрдЧрд╛рд░рд╛рдо рдзреЛрддреНрд░реЗ рд╡рд╣ рдЕрдм рддрдХ рдХреЗ рд╕рдмрд╕реЗ рдорд╢рд╣реВрд░ рд░рд┐рдВрдЧ рд╕рд░рджрд╛рд░ рдореЗрдВ рд╕реЗ рдПрдХ рдереЗред рдПрдХ рдЧрд░реАрдм рдкрд░рд┐рд╡рд╛рд░ рдореЗрдВ рдЕрд╡рддрд░рд┐рдд рд╡рд╣ рдЗрд╕рд╛рдХреЛ рдирд╛рдордХ рд░реВрд╕реА рд╕рд░реНрдХрд╕ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛ рдЧрдПред рд╡рд╣ рдмрд░реНрджрд╛рдо рд╕рд░реНрдХрд╕ рдХреЗ рд╕рд╛рде рдлреНрд░рд╛рдВрд╕ рдЪрд▓реЗ рдЧрдП рдФрд░ рдлрд┐рд░ рд╕рдВрд╕рд╛рд░ рднрд░ рдореЗрдВ рдорд╢рд╣реВрд░ рд░рд┐рдВрдЧрд▓рд┐рдВрдЧ рдмреНрд░рджрд░реНрд╕ рдФрд░ рдмрд╛рд░реНрдирдо рдФрд░ рдмреЗрд▓реА рд╕рд░реНрдХрд╕ рдХреЗ рд░реВрдк рдореЗрдВ рдорд╢рд╣реВрд░ рд╣реЛ рдЧрдПред рдж рдЧреНрд░реЗрдЯ рд╢реЛ рдСрди рдЕрд░реНрде рдирд╛рдордХ рд╢реЛ рдореЗрдВ рдЧрдВрдЧрд╛рд░рд╛рдо рдиреЗ рдХрд╛рдлреА рд╕рдордп рддрдХ рдХрд╛рдо рдХрд┐рдпрд╛ред рд╣рд╛рд▓рд╛рдВрдХрд┐ рд╡реЗ рднрд╛рд░рдд рд▓реМрдЯ рдЖрдП рдФрд░ рднрд╛рд░рдд рдореЗрдВ рднреА рдЕрдкрдиреА рдкрд╣рдЪрд╛рди рдмрдирд╛рдИред рд╕рд░реНрдХрд╕ рдХреЗ рд▓реЛрдЧ рд╢рд╣рд░ рдХреЗ рдмрд╛рд╣рд░ рдмрдбрд╝реЗ рдореИрджрд╛рди рдореЗрдВ рдЕрдкрдирд╛ рддрдВрдмреВ рд▓рдЧрд╛ рд░рд╣реЗ рдереЗред рд╣рдо рд╕рдм рдкрд╣рд▓реЗ рд╣реА рдкрд╣реБрдВрдЪ рдЧрдпреЗ рдереЗред рдХреБрдЫ рддрдВрдмреВ рдЬрд╛рдирд╡рд░реЛрдВ рдХреЗ рд▓рд┐рдП рдереЗ рдХреБрдЫ рдХрд╛рдордЧрд╛рд░реЛрдВ рдХреЗ рд▓рд┐рдП рдФрд░ рдПрдХ рдмрдбрд╛ рд╢рдорд┐рдпрд╛рдирд╛ рд╕рд░реНрдХрд╕ рдкреНрд░рджрд░реНрд╢рди рдХреЗ рд▓рд┐рдП рд▓рдЧ рд░рд╣рд╛ рдерд╛ред рд╣рдо рдореИрджрд╛рди рдореЗрдВ рдкрд╣реБрдВрдЪреЗ рддрдерд╛ рдЕрдкрдиреЗ рдЯрд┐рдХрдЯ рдЦрд░реАрджреЗ рдФрд░ рдЬрд╛рдХрд░ рдЕрдкрдиреА рд╕реАрдЯ рдкрд░ рдмреИрда рдЧрдпреЗред рддрдВрдмреВ рдХреЛ рдЦреВрдмрд╕реВрд░рддреА рд╕реЗ рд╕рдЬрд╛рдпрд╛ рдЧрдпрд╛ рдерд╛ рдФрд░ рд░реЛрд╢рди рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред рд╣рдо рд╢реЗрд░реЛрдВ рдХреА рдЧрд░реНрдЬрдирд╛ рдФрд░ рд╣рд╛рдерд┐рдпреЛрдВ рдХреА рдЖрд╡рд╛рдЬреЛрдВ рдХреЛ рд╕реБрди рд╕рдХрддреЗ рдереЗред рдкреБрд░реБрд╖ рддрдерд╛ рдорд╣рд┐рд▓рд╛рдПрдВ рдФрд░ рдмрд╛рд▓рдХ рдЬреЛрд╢ рд╕реЗ рд╢реЛ рдХреЗ рд╢реБрд░реВ рд╣реЛрдиреЗ рдХрд╛ рдЗрдВрддрдЬрд╛рд░ рдХрд░ рд░рд╣реЗ рдереЗред рдХрд╛рд░реНрдпрдХреНрд░рдо рдХрд╛ рдкрд╣рд▓рд╛ рдкреНрд░рджрд░реНрд╢рди рдЬреЛрдХрд░реЛрдВ рдиреЗ рдХрд┐рдпрд╛ред рдЙрдирдХреЗ рдордЬрд╛рдХрд┐рдпрд╛ рдЪреЗрд╣рд░реЛрдВ рдиреЗ рд╕рднреА рдХреЛ рдЦреВрдм рд╣рдВрд╕рд╛рдпрд╛ред рдЬреЛрдХрд░реЛрдВ рдиреЗ рдордЬрд╛рдХрд┐рдпрд╛ рдЪреБрдЯрдХреБрд▓реЗ рдмрдирд╛рдП рдФрд░ рдПрдХ рджреВрд╕рд░реЗ рд╕реЗ рдРрд╕рд╛ рдордЬрд╛рдХ рдХрд┐рдпрд╛ рдХрд┐ рд╣рдо рд╕рдм рд╣рдВрд╕рддреЗ рд╣рдВрд╕рддреЗ рд▓реЛрдЯ рдкреЛрдЯ рд╣реЛ рдЧрдПред рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдиреЗ рд╡рд╛рд▓рд╛ рдЕрдЧрд▓рд╛ рдЦреЗрд▓ рдпреБрд╡рд╛ рд▓рдбрдХрд┐рдпреЛрдВ рдФрд░ рд▓рдбрдХреЛрдВ рдХрд╛ рдерд╛ред рд╕рднреА рдиреЗ рдЭреВрд▓рд╛ рдЭреВрд▓рдиреЗ рддрдерд╛ рдЭреВрд▓реЛрдВ рдХреЗ рдЖрджрд╛рди рдкреНрд░рджрд╛рди рдФрд░ рд╕рднреА рдХреЛ рдПрдХ рдмреИрдВрдб рдХреА рд╕рдВрдЧрдд рдореЗрдВ рдирд╛рдЪрдиреЗ рдХрд╛ рдЕрдиреВрдард╛ рдкреНрд░рджрд░реНрд╢рди рдХрд┐рдпрд╛ред рд▓рдбрдХрд┐рдпреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдиреЗ рд╣рд╛рде рдореЗрдВ рдЫрд╛рддрд╛ рдкрдХрдбреЗ рд▓реЛрд╣реЗ рдХреЗ рддрд╛рд░ рдкрд░ рдирд╛рдЪ рднреА рджрд┐рдЦрд╛рдпрд╛ред рдЗрд╕ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рджрд░реНрд╢рдХреЛрдВ рдиреЗ рдХрд╛рдлреА рд╕рд░рд╛рд╣рд╛ред рдлрд┐рд░ рд╕рд╛рдВрд╕ рдХреЛ рдерд╛рдордиреЗ рд╡рд╛рд▓реЗ рдкреНрд░рджрд░реНрд╢рди рдЖрдПред рдЫрд╣ рдШреЛрдбреЗ рдЖрдП рдФрд░ рдЙрдирдХреА рдкреАрда рдкрд░ рд▓рд╛рд▓ рдФрд░ рдкреАрд▓реЗ рдХрдкрдбреЗ рдкрд╣рдиреЗ рдкрд╛рдВрдЪ рд▓реЛрдЧ рдереЗ рдФрд░ рдПрдХ рд▓рдбрд╝рдХреА рдиреЗ рд╕реБрдВрджрд░ рдХрдкрдбреЗ рдкрд╣рдиреЗ рдереЗред рдмреИрдВрдб рдиреЗ рд╕рдВрдЧреАрдд рдХреЗ рд╕рд╛рде рдзреБрди рдореЗрдВ рдирд╛рдЪ рджрд┐рдЦрд╛рдпрд╛ред рдлрд┐рд░ рдШреБрдбрд╕рд╡рд╛рд░ рдЙрдардХрд░ рдШреЛрдбреЗ рдХреА рдкреАрда рдкрд░ рдЦрдбрд╝реЗ рд╣реЛ рдЧрдП рдФрд░ рдШреЛрдбреЗ рд╕рд░рдкрдЯ рджреМрдбрдиреЗ рд▓рдЧреЗред рдЬреИрд╕реЗ рд╣реА рд╡реЗ рд╕рд░рдкрдЯ рджреМрдбрддреЗ рд╣реИрдВ рд╕рд╡рд╛рд░ рдПрдХ рдШреЛрдбреЗ рд╕реЗ рджреВрд╕рд░реЗ рдШреЛрдбреЗ рдХреА рдУрд░ рдХреВрджрддреЗ рд╣реИрдВ рдФрд░ рд╣рд╡рд╛ рдореЗрдВ рдХреБрдЫ рдЙрд▓рдЯрдлреЗрд░ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рд╕реИрдбрд▓ рдкрд░ рдЕрдкрдиреЗ рдкреИрд░реЛрдВ рдХреЗ рдмрд▓ рдиреАрдЪреЗ рдЖрддреЗ рд╣реИрдВред рдлрд┐рд░ рдПрдХ рдкреНрд░рд╢рд┐рдХреНрд╖рд┐рдд рд╣рд╛рдереА рдЖрддрд╛ рд╣реИред рд╡рд╣ рдПрдХ рдЯреЗрдмрд▓ рдкрд░ рдмреИрда рдЧрдпрд╛ рдФрд░ рд╣рдореЗрдВ рдЕрдкрдиреА рд╕реВрдВрдб рд╕реЗ рд╕рд▓рд╛рдореА рджреАред рд╡рд╣ рдЕрдкрдиреЗ рдкрд┐рдЫрд▓реЗ рдкреИрд░реЛрдВ рдкрд░ рднреА рдЦрдбрд╛ рд╣реБрдЖ рдФрд░ рдмреИрдВрдб рдХреА рдзреБрди рдкрд░ рддрд╛рд▓ рд╕реЗ рддрд╛рд▓ рдорд┐рд▓рд╛рдиреЗ рд▓рдЧрд╛ред рддрднреА рдПрдХ рдорд╣рд┐рд▓рд╛ рдЖрдИ рдФрд░ рд▓рдХрдбрд╝реА рдХреЗ рдореЗрдЬ рдХреЗ рдкрд╛рд╕ рдЦрдбрд╝реА рд╣реЛ рдЧрдИред рдПрдХ рдЖрджрдореА рдиреЗ рд╣рд░ рддрд░рдл рд╕реЗ рддреЗрдЬ рдЦрдВрдЬрд░ рдлреЗрдВрдХрдирд╛ рд╢реБрд░реВ рдХрд░ рджрд┐рдпрд╛ рдкрд░ рдЙрд╕реЗ рдЪреЛрдЯ рдирд╣реАрдВ рдЖрдИ рдФрд░ рдпрд╣ рд╡реИрд╕реА рд╣реА рдЦрдВрдЬрд░ рд╕реЗ рдШрд┐рд░реА рд╣реБрдИ рдЦрдбрд╝реА рд░рд╣реАред рдЗрд╕рдХреЗ рдмрд╛рдж рд╢реЗрд░ рдФрд░ рдмрд╛рдШреЛрдВ рдХреЗ рдХрд░рддрдм рджрд┐рдЦрд╛рдП рдЧрдПред рдПрдХ рдмрдбрд╛ рд╕рд░рджрд╛рд░ рд░рд┐рдВрдЧ рдореЗрдВ рдЖрдпрд╛ рдФрд░ рд╕рдм рдзрдо рдЧрдпрд╛ред рд╕рд░рджрд╛рд░ рдХреЗ рдЖрджреЗрд╢рд╛рдиреБрд╕рд╛рд░ рдЬрд╛рдирд╡рд░реЛрдВ рдиреЗ рд╕рдм рдХреБрдЫ рдХрд┐рдпрд╛ред рдпрд╣ рдПрдХ рд░реЛрдорд╛рдВрдЪрдХрд╛рд░реА рд╕рд░реНрдХрд╕ рдереЛ рдерд╛ред рдЗрд╕рдиреЗ рд╕рднреА рджрд░реНрд╢рдХреЛрдВ рдХреЛ рдЦреБрд╢ рдХрд░ рджрд┐рдпрд╛ред рдпрд╣ рд╣рдо рд╕рднреА рдХреЗ рд▓рд┐рдП рдЦреБрд╢рдиреБрдорд╛ рд╢рд╛рдо рдереА рдФрд░ рдореЗрд░реЗ рджрд┐рдорд╛рдЧ рдореЗрдВ рд╕рд░реНрдХрд╕ рдХреА рдпрд╛рджреЗрдВ рдЕрднреА рднреА рддрд╛рдЬрд╛ рд╣реИред"
      }
    ];

    let originalText = "";
    let startTime = null;
    let countdown = null;
    let timeLimit = 0;

    const displayDiv = document.getElementById("displayText");
    const inputField = document.getElementById("inputField");
    const resultDiv = document.getElementById("result");
    const timerDisplay = document.getElementById("timer");

    function renderText(input) {
      displayDiv.innerHTML = "";
      const words = originalText.split("");
      for (let i = 0; i < words.length; i++) {
        const span = document.createElement("span");
        if (i < input.length) {
          span.className = (input[i] === words[i]) ? "correct" : "incorrect";
        }
        span.innerText = words[i];
        displayDiv.appendChild(span);
      }
    }

    function startTest() {
      const name = document.getElementById("userName").value.trim();
      const duration = document.getElementById("timeSelect").value;
      const paragraphKey = document.getElementById("paragraphSelect").value;

      document.getElementById("nameError").innerText = "";
      document.getElementById("paraError").innerText = "";
      document.getElementById("timeError").innerText = "";

      let hasError = false;

      if (!name) {
        document.getElementById("nameError").innerText = "ЁЯСЙ рдХреГрдкрдпрд╛ рдирд╛рдо рджрд░реНрдЬ рдХрд░реЗрдВред";
        hasError = true;
      }

      if (paragraphKey === "") {
        document.getElementById("paraError").innerText = "ЁЯСЙ рдХреГрдкрдпрд╛ рдЕрдиреБрдЪреНрдЫреЗрдж рдЪреБрдиреЗрдВред";
        hasError = true;
      }

      if (duration === "") {
        document.getElementById("timeError").innerText = "ЁЯСЙ рдХреГрдкрдпрд╛ рд╕рдордп рдЪреБрдиреЗрдВред";
        hasError = true;
      }

      if (hasError) return;

      const selectedPassage = passages[paragraphKey];
      timeLimit = parseInt(duration);

      if (timeLimit === 1) originalText = selectedPassage.short;
      else if (timeLimit === 2) originalText = selectedPassage.medium;
      else originalText = selectedPassage.full;

      document.getElementById("selectedTime").innerText = timeLimit;
      document.getElementById("setup").style.display = "none";
      document.getElementById("testArea").style.display = "block";

      renderText("");
      inputField.value = "";
      inputField.disabled = false;
      inputField.focus();
      startTime = new Date();

      let totalSeconds = timeLimit * 60;
      updateTimerDisplay(totalSeconds);
      countdown = setInterval(() => {
        totalSeconds--;
        updateTimerDisplay(totalSeconds);
        if (totalSeconds <= 0) {
          clearInterval(countdown);
          endTest();
        }
      }, 1000);
    }

    function updateTimerDisplay(seconds) {
      const min = Math.floor(seconds / 60);
      const sec = seconds % 60;
      timerDisplay.innerText = `рд╢реЗрд╖ рд╕рдордп: ${min.toString().padStart(2, '0')}:${sec.toString().padStart(2, '0')}`;
    }

    inputField.addEventListener("input", () => {
      const typed = inputField.value;
      renderText(typed);
    });

    function endTest() {
      clearInterval(countdown);
      inputField.disabled = true;
      const endTime = new Date();
      const timeTaken = (endTime - startTime) / 1000 / 60;
      const typed = inputField.value.trim();

      let correct = 0;
      for (let i = 0; i < typed.length; i++) {
        if (typed[i] === originalText[i]) correct++;
      }

      const wpm = Math.round((typed.split(" ").length) / timeTaken);
      const accuracy = ((correct / originalText.length) * 100).toFixed(2);
      const userName = document.getElementById("userName").value.trim();

      resultDiv.innerHTML = `
        <div id="resultBox">
          <h3>тЬЕ рдкрд░реАрдХреНрд╖рдг рдкреВрд░реНрдг!</h3>
          <p><strong>рдирд╛рдо:</strong> ${userName}</p>
          <p><strong>рдЧрддрд┐:</strong> ${wpm} рд╢рдмреНрдж рдкреНрд░рддрд┐ рдорд┐рдирдЯ</p>
          <p><strong>рд╕рдЯреАрдХрддрд╛:</strong> ${accuracy}%</p>
          <p><strong>рд╕рдордп:</strong> ${timeTaken.toFixed(2)} рдорд┐рдирдЯ</p>
          <p style="text-align:center; margin-top: 20px;">
            <button onclick="location.reload()">ЁЯФБ рдЕрдиреНрдп рдЯреЗрд╕реНрдЯ рджреЗрдВ</button>
          </p>
        </div>
      `;
    }
  </script>
</body>
</html>
